{"version":3,"sources":["webpack:///./src/store/modules/right.js"],"names":["types","state","menuStructure","fetching","message","flag","err","mutations","FETCH_MENU_RIGHT","payload","console","log","RIGHT_SAVE","mes","actions","fetchRightMenuList","commit","roleId","fn","listByRank","rightSave","menus","saveRightMenu","getters","getRightMenuList","getRightSaveState","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;IAAYA,K;;AACZ;;;;AACA;;;;;;;;AAEA,IAAMC,QAAM;AACRC,mBAAc,EADN;AAERC,cAAS,IAFD;AAGRC,aAAQ;AACJC,cAAK,CADD;AAEJC,aAAI;AAFA;AAHA,CAAZ;;AASA,IAAMC,wEACDP,MAAMQ,gBADL,YACuBP,KADvB,EAC6BQ,OAD7B,EACqC;AACnCC,YAAQC,GAAR,CAAY,oBAAkBF,OAA9B;AACAR,UAAME,QAAN,GAAe,KAAf;AACAF,UAAMC,aAAN,GAAoBO,OAApB;AACH,CALC,6CAMDT,MAAMY,UANL,YAMiBX,KANjB,EAMuBQ,OANvB,EAM+B;AAC7B,QAAII,MAAIJ,OAAR;AACA,QAAGI,OAAK,IAAR,EAAa;AACTZ,cAAMG,OAAN,CAAcC,IAAd,GAAmB,CAAnB;AACH,KAFD,MAEK;AACDJ,cAAMG,OAAN,CAAcC,IAAd,GAAmB,CAAnB;AACAJ,cAAMG,OAAN,CAAcE,GAAd,GAAkBO,GAAlB;AACH;AACJ,CAdC,cAAN;;AAiBA,IAAMC,UAAQ;AACVC;AAAA,4FAAmB;AAAA,gBAAQC,MAAR,SAAQA,MAAR;AAAA,gBAAiBC,MAAjB,SAAiBA,MAAjB;AAAA,gBAAwBC,EAAxB,SAAwBA,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACW,qBAAWC,UAAX,CAAsBF,MAAtB,CADX;;AAAA;AACXf,yCADW;;AAEfc,mCAAOhB,MAAMQ,gBAAb,EAA8BN,aAA9B;AACAgB,kCAAI,IAAJ,GAAS,YAAY,CAAE,CAAvB,GAAwBA,GAAGhB,aAAH,CAAxB;;AAHe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAnB;;AAAA;AAAA;AAAA;AAAA,OADU;AAMVkB;AAAA,6FAAU;AAAA,gBAAQJ,MAAR,SAAQA,MAAR;AAAA,gBAAiBC,MAAjB,SAAiBA,MAAjB;AAAA,gBAAwBI,KAAxB,SAAwBA,KAAxB;AAAA,gBAA8BH,EAA9B,SAA8BA,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACa,qBAAWI,aAAX,CAAyBL,MAAzB,EAAgCI,KAAhC,CADb;;AAAA;AACFjB,mCADE;;AAENY,mCAAOhB,MAAMY,UAAb,EAAwBR,OAAxB;AACAc,kCAAI,IAAJ,GAAS,YAAY,CAAE,CAAvB,GAAwBA,IAAxB;;AAHM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAV;;AAAA;AAAA;AAAA;AAAA;;AANU,CAAd;AAaA,IAAMK,UAAQ;AACVC,sBAAiB,0BAACvB,KAAD;AAAA,eAASA,MAAMC,aAAf;AAAA,KADP;AAEVuB,uBAAkB,2BAACxB,KAAD;AAAA,eAASA,KAAT;AAAA;AAFR,CAAd;;AAKAyB,OAAOC,OAAP,GAAe;AACX1B,gBADW;AAEXM,wBAFW;AAGXO,oBAHW;AAIXS;AAJW,CAAf,C","file":"16.d78300c53d9d54d4ae48.hot-update.js","sourcesContent":["import * as types from '../mutaion-types';\nimport rightQuery from '../../api/rightQuery';\nimport roleQuery from \"../../api/roleQuery\";\n\nconst state={\n    menuStructure:[],\n    fetching:true,\n    message:{\n        flag:0,\n        err:''\n    }\n}\n\nconst mutations={\n    [types.FETCH_MENU_RIGHT](state,payload){\n        console.log(\"FETCH_MENUS>>>>\"+payload);\n        state.fetching=false;\n        state.menuStructure=payload;\n    },\n    [types.RIGHT_SAVE](state,payload){\n        let mes=payload;\n        if(mes==\"ok\"){\n            state.message.flag=1;\n        }else{\n            state.message.flag=0;\n            state.message.err=mes;\n        }\n    },\n}\n\nconst actions={\n    fetchRightMenuList:async ({commit},{roleId,fn})=>{\n        var menuStructure= await  rightQuery.listByRank(roleId);\n        commit(types.FETCH_MENU_RIGHT,menuStructure)\n        fn==null?function () {}:fn(menuStructure);\n    },\n    rightSave:async ({commit},{roleId,menus,fn})=>{\n        var message= await rightQuery.saveRightMenu(roleId,menus);\n        commit(types.RIGHT_SAVE,message);\n        fn==null?function () {}:fn();\n    }\n\n}\nconst getters={\n    getRightMenuList:(state)=>state.menuStructure,\n    getRightSaveState:(state)=>state\n}\n\nmodule.exports={\n    state,\n    mutations,\n    actions,\n    getters\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/right.js"],"sourceRoot":""}